"use strict";(function(){var $body=jQuery('body');var $window=jQuery(window);function menuHideExtraElements(){jQuery('.sf-more-li, .sf-logo-li').remove();var windowWidth=jQuery('body').innerWidth();jQuery('.sf-menu').each(function(){var $thisMenu=jQuery(this);var $menuWraper=$thisMenu.closest('.mainmenu_wrapper');$menuWraper.attr('style','');if(windowWidth>1199){var $menuLis=$menuWraper.find('.sf-menu > li');$menuLis.removeClass('sf-md-hidden');var $headerLogoCenter=$thisMenu.closest('.header_logo_center');var logoWidth=0;var summaryLiWidth=0;if($headerLogoCenter.length){var $logo=$headerLogoCenter.find('.logo');logoWidth=$logo.outerWidth(true)+70;}var wrapperWidth=$menuWraper.outerWidth(true);$menuLis.each(function(index){var elementWidth=jQuery(this).outerWidth();summaryLiWidth+=elementWidth;if(summaryLiWidth>=(wrapperWidth-logoWidth)){var $newLi=jQuery('<li class="sf-more-li"><a>...</a><ul></ul></li>');jQuery($menuLis[index-1]).before($newLi);var newLiWidth=jQuery($newLi).outerWidth(true);var $extraLiElements=$menuLis.filter(':gt('+(index-2)+')');$extraLiElements.clone().appendTo($newLi.find('ul'));$extraLiElements.addClass('sf-md-hidden');return false;}});if($headerLogoCenter.length){var $menuLisVisible=$headerLogoCenter.find('.sf-menu > li:not(.sf-md-hidden)');var menuLength=$menuLisVisible.length;var summaryLiVisibleWidth=0;$menuLisVisible.each(function(){summaryLiVisibleWidth+=jQuery(this).outerWidth();});var centerLi=Math.floor(menuLength/2);if((menuLength%2===0)){centerLi--;}var $liLeftFromLogo=$menuLisVisible.eq(centerLi);$liLeftFromLogo.after('<li class="sf-logo-li"></li>');$headerLogoCenter.find('.sf-logo-li').width(logoWidth);var liLeftRightDotX=$liLeftFromLogo.offset().left+$liLeftFromLogo.outerWidth();var logoLeftDotX=windowWidth/2-logoWidth/2;var menuLeftOffset=liLeftRightDotX-logoLeftDotX;$menuWraper.css({'left':-menuLeftOffset})}}});}function initMegaMenu(){var $megaMenu=jQuery('.mainmenu_wrapper .mega-menu');if($megaMenu.length){var windowWidth=jQuery('body').innerWidth();if(windowWidth>1199){$megaMenu.each(function(){var $thisMegaMenu=jQuery(this);$thisMegaMenu.css({'display':'block','left':'auto'});var thisWidth=$thisMegaMenu.outerWidth();var thisOffset=$thisMegaMenu.offset().left;var thisLeft=(thisOffset+(thisWidth/2))-windowWidth/2;$thisMegaMenu.css({'left':-thisLeft,'display':'none'});if(!$thisMegaMenu.closest('ul').hasClass('nav')){$thisMegaMenu.css('left','');}});}}}function affixSidebarInit(){var $affixAside=jQuery('.affix-aside');if($affixAside.length){$affixAside.on('affix.bs.affix',function(e){var affixWidth=$affixAside.width()-1;var affixLeft=$affixAside.offset().left;$affixAside.width(affixWidth).css("left",affixLeft);}).on('affix-top.bs.affix affix-bottom.bs.affix',function(e){$affixAside.css({"width":"","left":""});});var offsetTop=$affixAside.offset().top-jQuery('.page_header').height();var offsetBottom=jQuery('.page_footer').outerHeight(true)+jQuery('.page_copyright').outerHeight(true);$affixAside.affix({offset:{top:offsetTop,bottom:offsetBottom},});jQuery(window).on('resize',function(){$affixAside.css({"width":"","left":""});if($affixAside.hasClass('affix')){$affixAside.removeClass("affix").css("left","").addClass("affix-top");}var offsetTop=jQuery('.page_topline').outerHeight(true)+jQuery('.page_toplogo').outerHeight(true)+jQuery('.page_header').outerHeight(true)+jQuery('.page_breadcrumbs').outerHeight(true)+jQuery('.blog_slider').outerHeight(true);var offsetBottom=jQuery('.page_footer').outerHeight(true)+jQuery('.page_copyright').outerHeight(true);$affixAside.data('bs.affix').options.offset.top=offsetTop;$affixAside.data('bs.affix').options.offset.bottom=offsetBottom;$affixAside.affix('checkPosition');});}}function initAnimateElement(self,index){var animationClass=!self.data('animation')?'fadeInUp':self.data('animation');var animationDelay=!self.data('delay')?index*150:self.data('delay');setTimeout(function(){self.addClass("animated "+animationClass);},animationDelay);}function initCounter(self){if(self.hasClass('counted')){return;}else{self.countTo().addClass('counted');}}function initProgressbar(el){el.progressbar({transition_delay:300});}function initChart(el){var data=el.data();var size=data.size?data.size:270;var line=data.line?data.line:20;var bgcolor=data.bgcolor?data.bgcolor:'#ffffff';var trackcolor=data.trackcolor?data.trackcolor:'#c14240';var speed=data.speed?data.speed:3000;el.easyPieChart({barColor:trackcolor,trackColor:bgcolor,scaleColor:false,scaleLength:false,lineCap:'butt',lineWidth:line,size:size,rotate:0,animate:speed,onStep:function(from,to,percent){jQuery(this.el).find('.percent').text(Math.round(percent));}});}function headerColumnsEqualize(){var $leftLogo=jQuery('.header_left_logo');var $rightButtons=jQuery('.header_right_buttons');if(parseInt($leftLogo.css('width'),10)>parseInt($rightButtons.css('width'),10)){$rightButtons.css('min-width',$leftLogo.css('width'));}else{$leftLogo.css('min-width',$rightButtons.css('width'));}}function windowLoadInit(){if(jQuery().scrollbar){jQuery('[class*="scrollbar-"]').scrollbar();}if(jQuery().superfish){jQuery('ul.sf-menu').superfish({popUpSelector:'ul:not(.mega-menu ul), .mega-menu ',delay:700,animation:{opacity:'show',marginTop:1},animationOut:{opacity:'hide',marginTop:5},speed:200,speedOut:200,disableHI:false,cssArrows:true,autoArrows:true});jQuery('ul.sf-menu-side').superfish({popUpSelector:'ul:not(.mega-menu ul), .mega-menu ',delay:500,animation:{opacity:'show',height:100+'%'},animationOut:{opacity:'hide',height:0},speed:400,speedOut:300,disableHI:false,cssArrows:true,autoArrows:true});}jQuery('.toggle_menu').on('click',function(){jQuery(this).toggleClass('mobile-active').closest('.page_header').toggleClass('mobile-active').end().closest('.page_toplogo').next().find('.page_header').toggleClass('mobile-active');});jQuery('.mainmenu a').on('click',function(){var $this=jQuery(this);if(($this.hasClass('sf-with-ul'))||!($this.attr('href').charAt(0)==='#')){return;}$this.closest('.page_header').toggleClass('mobile-active').find('.toggle_menu').toggleClass('mobile-active');});var $sideHeader=jQuery('.page_header_side');jQuery('ul.menu-side-click').find('li').each(function(){var $thisLi=jQuery(this);if($thisLi.find('ul').length){$thisLi.append('<span class="activate_submenu"></span>').find('.activate_submenu, > a').on('click',function(e){var $thisSpanOrA=jQuery(this);if(($thisSpanOrA.attr('href')==='#')||!($thisSpanOrA.parent().hasClass('active-submenu'))){e.preventDefault();}if($thisSpanOrA.parent().hasClass('active-submenu')){$thisSpanOrA.parent().removeClass('active-submenu');return;}$thisLi.addClass('active-submenu').siblings().removeClass('active-submenu');});}});if($sideHeader.length){jQuery('.toggle_menu_side').on('click',function(){var $thisToggler=jQuery(this);if($thisToggler.hasClass('header-slide')){$sideHeader.toggleClass('active-slide-side-header');}else{if($thisToggler.parent().hasClass('header_side_right')){$body.toggleClass('active-side-header slide-right');}else{$body.toggleClass('active-side-header');}}});$body.on('click',function(e){if(!(jQuery(e.target).closest('.page_header_side').length)&&!($sideHeader.hasClass('page_header_side_sticked'))){$sideHeader.removeClass('active-slide-side-header');$body.removeClass('active-side-header slide-right');}});}var MainWindowWidth=jQuery(window).width();var boxWrapperWidth=jQuery('#box_wrapper').width();jQuery(window).on('resize',function(){MainWindowWidth=jQuery(window).width();boxWrapperWidth=jQuery('#box_wrapper').width();});jQuery('.mainmenu_wrapper .sf-menu').on('mouseover','ul li',function(){if(MainWindowWidth>1199){var $this=jQuery(this);var subMenuExist=$this.find('ul').length;if(subMenuExist>0){var subMenuWidth=$this.find('ul, div').first().width();var subMenuOffset=$this.find('ul, div').first().parent().offset().left+subMenuWidth;if((subMenuOffset+subMenuWidth)>boxWrapperWidth){var newSubMenuPosition=subMenuWidth+0;$this.find('ul, div').first().css({left:-newSubMenuPosition,});}else{$this.find('ul, div').first().css({left:'100%',});}}}}).on('mouseover','> li',function(){if(MainWindowWidth>1199){var $this=jQuery(this);var subMenuExist=$this.find('ul').length;if(subMenuExist>0){var subMenuWidth=$this.find('ul').width();var subMenuOffset=$this.find('ul').parent().offset().left-(jQuery(window).width()/2-boxWrapperWidth/2);if((subMenuOffset+subMenuWidth)>boxWrapperWidth){var newSubMenuPosition=boxWrapperWidth-(subMenuOffset+subMenuWidth);$this.find('ul').first().css({left:newSubMenuPosition,});}}}});var navHeight=jQuery('.page_header').outerHeight(true);if(jQuery('.mainmenu_side_wrapper').length){$body.scrollspy({target:'.mainmenu_side_wrapper',offset:navHeight+10});}else if(jQuery('.mainmenu_wrapper').length){$body.scrollspy({target:'.mainmenu_wrapper',offset:navHeight+10})}if(jQuery().localScroll){jQuery('.mainmenu_wrapper > ul, .mainmenu_side_wrapper > ul, #land, .scroll_button_wrap, .intro-layer').localScroll({duration:900,easing:'easeInOutQuart',offset:-80});}jQuery(".bg_teaser, .image_cover, .slide-image-wrap").each(function(){var $teaser=jQuery(this);var $image=$teaser.find("img").first();if(!$image.length){$image=$teaser.parent().find("img").first();}if(!$image.length){return;}var imagePath=$image.attr("src");$teaser.css("background-image","url("+imagePath+")");});if(jQuery().UItoTop){jQuery().UItoTop({easingType:'easeInOutQuart'});}if(jQuery().parallax){jQuery('.parallax').parallax("50%",0.01);}if(jQuery().prettyPhoto){jQuery("a[data-gal^='prettyPhoto']").prettyPhoto({hook:'data-gal',theme:'facebook',social_tools:false,default_width:1170,default_height:780});}if(jQuery().carousel){jQuery('.carousel').carousel();}jQuery('.nav-tabs').each(function(){jQuery(this).find('a').first().tab('show');});jQuery('.tab-content').each(function(){jQuery(this).find('.tab-pane').first().addClass('fade in');});jQuery('.panel-group').each(function(){jQuery(this).find('a').first().filter('.collapsed').trigger('click');});if(jQuery().tooltip){jQuery('[data-toggle="tooltip"]').tooltip();}if(jQuery().countdown){var demoDate=new Date();demoDate.setMonth(demoDate.getMonth()+1);jQuery('#comingsoon-countdown').each(function(){var $countDown=jQuery(this);var data=$countDown.data();var countToDate=(data.countTo!==undefined)?new Date(data.countTo):demoDate;$countDown.countdown({until:countToDate,labels:['Years','Months','Weeks','Days','Hours','Mins','Sec'],format:data.format});});}jQuery('form.contact-form').on('submit',function(e){e.preventDefault();var $form=jQuery(this);jQuery($form).find('span.contact-form-respond').remove();jQuery($form).find('[aria-required="true"], [required]').each(function(index){var $thisRequired=jQuery(this);if(!$thisRequired.val().length){$thisRequired.addClass('invalid').on('focus',function(){$thisRequired.removeClass('invalid');});}});if($form.find('[aria-required="true"], [required]').hasClass('invalid')){return;}var request=$form.serialize();var ajax=jQuery.post("contact-form.php",request).done(function(data){jQuery($form).find('[type="submit"]').attr('disabled',false).parent().append('<span class="contact-form-respond highlight">'+data+'</span>');var $formErrors=$form.find('.form-errors');if(!$formErrors.length){$form[0].reset();}}).fail(function(data){jQuery($form).find('[type="submit"]').attr('disabled',false).parent().append('<span class="contact-form-respond highlight">Mail cannot be sent. You need PHP server to send mail.</span>');})});jQuery(".search_modal_button").on('click',function(e){e.preventDefault();jQuery('#search_modal').modal('show').find('input').first().focus();});jQuery('form.searchform').on('submit',function(e){e.preventDefault();var $form=jQuery(this);var $searchModal=jQuery('#search_modal');$searchModal.find('div.searchform-respond').remove();jQuery($form).find('[type="text"]').each(function(index){var $thisField=jQuery(this);if(!$thisField.val().length){$thisField.addClass('invalid').on('focus',function(){$thisField.removeClass('invalid')});}});if($form.find('[type="text"]').hasClass('invalid')){return;}$searchModal.modal('show');var request=$form.serialize();var ajax=jQuery.post("search.php",request).done(function(data){$searchModal.append('<div class="searchform-respond">'+data+'</div>');}).fail(function(data){$searchModal.append('<div class="searchform-respond">Search cannot be done. You need PHP server to search.</div>');})});jQuery('.signup').on('submit',function(e){e.preventDefault();var $form=jQuery(this);$form.find('.response').html('Adding email address...');jQuery.ajax({url:'mailchimp/store-address.php',data:'ajax=true&email='+escape($form.find('.mailchimp_email').val())+'&fullname='+escape($form.find('.mailchimp_fullname').val()),success:function(msg){$form.find('.response').html(msg);}});});if(jQuery().tweet){jQuery('.twitter').tweet({modpath:"./twitter/",count:2,avatar_size:48,loading_text:'loading twitter feed...',join_text:'auto',username:'michaeljackson',template:"<span class=\"tweet_text highlightlinks\">{tweet_text}</span><span class=\"darklinks\">- {time}</span>"});}jQuery('#mainteasers .col-lg-4').addWidthClass({breakpoints:[500,600]});var $timetable=jQuery('#timetable');if($timetable.length){jQuery('#timetable_filter').on('click','a',function(e){e.preventDefault();e.stopPropagation();var $thisA=jQuery(this);if($thisA.hasClass('selected')){return;}var selector=$thisA.attr('data-filter');$timetable.find('tbody td').removeClass('current').end().find(selector).closest('td').addClass('current');$thisA.closest('ul').find('a').removeClass('selected');$thisA.addClass('selected');});}jQuery('#toggle_shop_view').on('click',function(e){e.preventDefault();jQuery(this).toggleClass('grid-view');jQuery('#products').toggleClass('grid-view list-view');});if(jQuery().elevateZoom){jQuery('#product-image').elevateZoom({gallery:'product-image-gallery',cursor:'pointer',galleryActiveClass:'active',responsive:true,loadingIcon:'img/AjaxLoader.gif'});}jQuery('.review-link').on('click',function(e){var $thisLink=jQuery(this);var reviewTabLink=jQuery('a[href="#reviews_tab"]');if(!reviewTabLink.parent().hasClass('active')){reviewTabLink.tab('show').on('shown.bs.tab',function(e){$window.scrollTo($thisLink.attr('href'),400);})}$window.scrollTo($thisLink.attr('href'),400);});jQuery('.plus, .minus').on('click',function(e){var numberField=jQuery(this).parent().find('[type="number"]');var currentVal=numberField.val();var sign=jQuery(this).val();if(sign==='-'){if(currentVal>1){numberField.val(parseFloat(currentVal)-1);}}else{numberField.val(parseFloat(currentVal)+1);}});jQuery('a.remove').on('click',function(e){e.preventDefault();jQuery(this).closest('tr, .media').remove();});if(jQuery().slider){var $rangeSlider=jQuery(".slider-range-price");if($rangeSlider.length){var $priceMin=jQuery(".price_from");var $priceMax=jQuery(".price_to");$rangeSlider.slider({range:true,min:0,max:200,values:[30,100],slide:function(event,ui){$priceMin.html('$'+ui.values[0]);$priceMax.html('$'+ui.values[1]);}});$priceMin.html('$'+$rangeSlider.slider("values",0));$priceMax.html('$'+$rangeSlider.slider("values",1));}}jQuery(".color-filters").find("a[data-background-color]").each(function(){jQuery(this).css({"background-color":jQuery(this).data("background-color")});});if(jQuery().flexslider){var $introSlider=jQuery(".intro_section .flexslider");$introSlider.each(function(index){var $currentSlider=jQuery(this);var data=$currentSlider.data();var nav=(data.nav!=='undefined')?data.nav:true;var dots=(data.dots!=='undefined')?data.dots:true;var dotsDisabled=$currentSlider.find('.slides').children().length<2?'dots-disabled':'';$currentSlider.addClass(dotsDisabled);$currentSlider.flexslider({animation:"fade",pauseOnHover:true,useCSS:true,controlNav:dots,directionNav:nav,prevText:"",nextText:"",smoothHeight:false,slideshowSpeed:10000,animationSpeed:600,start:function(slider){slider.find('.slide_description').children().css({'visibility':'hidden'});slider.find('.flex-active-slide .slide_description').children().each(function(index){var self=jQuery(this);var animationClass=!self.data('animation')?'fadeInRight':self.data('animation');setTimeout(function(){self.addClass("animated "+animationClass);},index*200);});slider.find('.flex-control-nav').find('a').each(function(){jQuery(this).html('0'+jQuery(this).html());})},after:function(slider){slider.find('.flex-active-slide .slide_description').children().each(function(index){var self=jQuery(this);var animationClass=!self.data('animation')?'fadeInRight':self.data('animation');setTimeout(function(){self.addClass("animated "+animationClass);},index*200);});},end:function(slider){slider.find('.slide_description').children().each(function(){var self=jQuery(this);var animationClass=!self.data('animation')?'fadeInRight':self.data('animation');self.removeClass('animated '+animationClass).css({'visibility':'hidden'});});},}).find('.flex-control-nav').wrap('<div class="container-fluid nav-container"/>');});var $testimonialsSlider=jQuery(".page_testimonials .flexslider");$testimonialsSlider.each(function(index){var $currentSlider=jQuery(this);if($currentSlider.find('.flex-active-slide').length){return;}var data=$currentSlider.data();var nav=(data.nav!=='undefined')?data.nav:true;var dots=(data.dots!=='undefined')?data.dots:true;var autoplay=(data.autoplay!=='undefined')?data.autoplay:true;$currentSlider.flexslider({animation:"slide",useCSS:true,controlNav:dots,directionNav:nav,prevText:"",nextText:"",smoothHeight:false,slideshow:autoplay,slideshowSpeed:10000,animationSpeed:400,start:function(slider){slider.find('.flex-control-nav').find('a').each(function(){jQuery(this).html('0'+jQuery(this).html());})},}).find('.flex-control-nav').wrap('<div class="container-fluid nav-container"/>')});jQuery(".flexslider").each(function(index){var $currentSlider=jQuery(this);if($currentSlider.find('.flex-active-slide').length){return;}var data=$currentSlider.data();var nav=(data.nav!=='undefined')?data.nav:true;var dots=(data.dots!=='undefined')?data.dots:true;var autoplay=(data.autoplay!=='undefined')?data.autoplay:true;$currentSlider.flexslider({animation:"fade",useCSS:true,controlNav:dots,directionNav:nav,prevText:"",nextText:"",smoothHeight:false,slideshow:autoplay,slideshowSpeed:5000,animationSpeed:400,start:function(slider){slider.find('.flex-control-nav').find('a').each(function(){jQuery(this).html('0'+jQuery(this).html());})},}).find('.flex-control-nav').wrap('<div class="container-fluid nav-container"/>')});}var $header=jQuery('.page_header').first();var boxed=$header.closest('.boxed').length;if($header.length){menuHideExtraElements();initMegaMenu();var headerHeight=$header.outerHeight();$header.wrap('<div class="page_header_wrapper"></div>');var $headerWrapper=$header.parent();if(!boxed){$headerWrapper.css({height:$header.outerHeight()});}if($header.hasClass('header_white')){$headerWrapper.addClass('header_white');}else if($header.hasClass('header_darkgrey')){$headerWrapper.addClass('header_darkgrey');if($header.hasClass('bs')){$headerWrapper.addClass('bs');}}else if($header.hasClass('header_gradient')){$headerWrapper.addClass('header_gradient');}if($header.hasClass('header_transparent')){$headerWrapper.addClass('header_transparent_wrap')}var headerOffset=0;headerOffset=$header.offset().top;jQuery($header).on('affixed-top.bs.affix affixed.bs.affix affixed-bottom.bs.affix',function(e){if($header.hasClass('affix-top')){$headerWrapper.removeClass('affix-wrapper affix-bottom-wrapper').addClass('affix-top-wrapper');}else if($header.hasClass('affix')){$headerWrapper.removeClass('affix-top-wrapper affix-bottom-wrapper').addClass('affix-wrapper');}else if($header.hasClass('affix-bottom')){$headerWrapper.removeClass('affix-wrapper affix-top-wrapper').addClass('affix-bottom-wrapper');}else{$headerWrapper.removeClass('affix-wrapper affix-top-wrapper affix-bottom-wrapper');}menuHideExtraElements();initMegaMenu();});jQuery($header).on('affixed-top.bs.affix',function(){});jQuery($header).affix({offset:{top:headerOffset,bottom:0}});}jQuery('.search_form_trigger').on('click',function($e){$e.preventDefault();jQuery('.search_form_trigger, .search_form_wrapper').toggleClass('active');});if(jQuery().owlCarousel){jQuery('.owl-carousel').each(function(){var $carousel=jQuery(this);var data=$carousel.data();var loop=data.loop?data.loop:false;var margin=(data.margin||data.margin===0)?data.margin:30;var nav=data.nav?data.nav:false;var dots=data.dots?data.dots:false;var dotsContainer=data.dotsContainer?data.dotsContainer:false;var themeClass=data.themeclass?data.themeclass:'owl-theme';var center=data.center?data.center:false;var items=data.items?data.items:4;var autoplay=data.autoplay?data.autoplay:false;var responsiveXs=data.responsiveXs?data.responsiveXs:1;var responsiveXxs=data.responsiveXxs?data.responsiveXxs:1;var responsiveSm=data.responsiveSm?data.responsiveSm:2;var responsiveMd=data.responsiveMd?data.responsiveMd:3;var responsiveLg=data.responsiveLg?data.responsiveLg:4;var responsivexLg=data.responsiveXlg?data.responsiveXlg:responsiveLg;var filters=data.filters?data.filters:false;var mouseDrag=$carousel.data('mouse-drag')===false?false:true;var touchDrag=$carousel.data('touch-drag')===false?false:true;if(filters){$carousel.after($carousel.clone().addClass('owl-carousel-filter-cloned'));jQuery(filters).on('click','a',function(e){e.preventDefault();var $thisA=jQuery(this);if($thisA.hasClass('selected')){return;}var filterValue=$thisA.attr('data-filter');$thisA.siblings().removeClass('selected active');$thisA.addClass('selected active');$carousel.find('.owl-item').length;for(var i=$carousel.find('.owl-item').length-1;i>=0;i--){$carousel.trigger('remove.owl.carousel',[1]);};var $filteredItems=jQuery($carousel.next().find(' > '+filterValue).clone());$filteredItems.each(function(){$carousel.trigger('add.owl.carousel',jQuery(this));jQuery(this).addClass('scaleAppear');});$carousel.trigger('refresh.owl.carousel');if(jQuery().prettyPhoto){$carousel.find("a[data-gal^='prettyPhoto']").prettyPhoto({hook:'data-gal',theme:'facebook',social_tools:false});}});}$carousel.owlCarousel({loop:loop,margin:margin,nav:nav,navText:['<span>prev</span>','<span>next</span>'],autoplay:autoplay,dots:dots,dotsContainer:dotsContainer,themeClass:themeClass,center:center,items:items,smartSpeed:400,mouseDrag:mouseDrag,touchDrag:touchDrag,responsive:{0:{items:responsiveXxs},500:{items:responsiveXs},768:{items:responsiveSm},992:{items:responsiveMd},1200:{items:responsiveLg},1600:{items:responsivexLg}},}).addClass(themeClass);if(center){$carousel.addClass('owl-center');}$window.on('resize',function(){$carousel.trigger('refresh.owl.carousel');});$carousel.on('changed.owl.carousel',function(){if(jQuery().prettyPhoto){jQuery("a[data-gal^='prettyPhoto']").prettyPhoto({hook:'data-gal',theme:'facebook',social_tools:false});}})});}affixSidebarInit();$body.scrollspy('refresh');if(jQuery().appear){jQuery('.no_appear_delay').each(function(index){initAnimateElement(jQuery(this),index);})
jQuery('.to_animate').appear();jQuery('.to_animate').filter(':appeared').each(function(index){initAnimateElement(jQuery(this),index);});$body.on('appear','.to_animate',function(e,$affected){jQuery($affected).each(function(index){initAnimateElement(jQuery(this),index);});});if(jQuery().countTo){jQuery('.counter').appear();jQuery('.counter').filter(':appeared').each(function(){initCounter(jQuery(this));});$body.on('appear','.counter',function(e,$affected){jQuery($affected).each(function(){initCounter(jQuery(this));});});}if(jQuery().progressbar){jQuery('.progress .progress-bar').appear();jQuery('.progress .progress-bar').filter(':appeared').each(function(){initProgressbar(jQuery(this));});$body.on('appear','.progress .progress-bar',function(e,$affected){jQuery($affected).each(function(){initProgressbar(jQuery(this));});});jQuery('a[data-toggle="tab"]').on('shown.bs.tab',function(e){initProgressbar(jQuery(jQuery(e.target).attr('href')).find('.progress .progress-bar'));});jQuery('.dropdown').on('shown.bs.dropdown',function(e){initProgressbar(jQuery(this).find('.progress .progress-bar'));});}if(jQuery().easyPieChart){jQuery('.chart').appear();jQuery('.chart').filter(':appeared').each(function(){initChart(jQuery(this));});$body.on('appear','.chart',function(e,$affected){jQuery($affected).each(function(){initChart(jQuery(this));});});}}if(jQuery().jflickrfeed){var $flickr=jQuery("#flickr, .flickr_ul");if($flickr.length){if(!($flickr.hasClass('flickr_loaded'))){$flickr.jflickrfeed({flickrbase:"http://api.flickr.com/services/feeds/",limit:6,qstrings:{id:"131791558@N04"},itemTemplate:'<a href="{{image_b}}" data-gal="prettyPhoto[pp_gal]"><li><img alt="{{title}}" src="{{image_m}}" /></li></a>'},function(data){$flickr.find('a').prettyPhoto({hook:'data-gal',theme:'facebook'});}).addClass('flickr_loaded');}}}if(jQuery().spectragram){var Spectra={instaToken:'3905738328.60c782d.b65ed3f058d64e6ab32c110c6ac12d9b',instaID:'60c782dfecaf4050b59ff4c159246641',init:function(){jQuery.fn.spectragram.accessData={accessToken:this.instaToken,clientID:this.instaID};jQuery('.instafeed').each(function(){var $this=jQuery(this);if($this.find('img').length){return;}$this.spectragram('getRecentTagged',{max:6,query:'grey',wrapEachWith:'<div class="photo">'});});}}
Spectra.init();}jQuery('.embed-placeholder').each(function(){jQuery(this).on('click',function(e){var $thisLink=jQuery(this);if($thisLink.attr('data-gal')){return;}e.preventDefault();if($thisLink.attr('href')===''||$thisLink.attr('href')==='#'){$thisLink.replaceWith($thisLink.data('iframe').replace(/&amp/g,'&').replace(/$lt;/g,'<').replace(/&gt;/g,'>').replace(/$quot;/g,'"')).trigger('click');}else{$thisLink.replaceWith('<iframe class="embed-responsive-item" src="'+$thisLink.attr('href')+'?rel=0&autoplay=1'+'"></iframe>');}});});jQuery('.isotope_container').each(function(index){var $container=jQuery(this);var layoutMode=($container.hasClass('masonry-layout'))?'masonry':'fitRows';var columnWidth=($container.find('.col-lg-20').length)?'.col-lg-20':'';$container.isotope({percentPosition:true,layoutMode:layoutMode,masonry:{columnWidth:columnWidth}});var $filters=jQuery(this).attr('data-filters')?jQuery(jQuery(this).attr('data-filters')):$container.prev().find('.filters');if($filters.length){var $defaultA=$filters.find('.selected');var defaultFilterValue=$defaultA.attr('data-filter');$container.isotope({filter:defaultFilterValue});$defaultA.addClass('active');$filters.on('click','a',function(e){e.preventDefault();var $thisA=jQuery(this);var filterValue=$thisA.attr('data-filter');$container.isotope({filter:filterValue});$thisA.siblings().removeClass('selected active');$thisA.addClass('selected active');});$filters.on('change','select',function(e){e.preventDefault();var filterValue=jQuery(this).val();$container.isotope({filter:filterValue});});}});var $messagesModal=jQuery('#messages_modal');if($messagesModal.find('ul').length){$messagesModal.modal('show');}jQuery(".preloaderimg").fadeOut(150);jQuery(".preloader").fadeOut(350).delay(200,function(){jQuery(this).remove();});jQuery('.search_form_trigger').on('click',function($e){$e.preventDefault();});jQuery("[href='#0']").on('click',function($e){$e.preventDefault();});headerColumnsEqualize();}function windowReadyInit(){jQuery('#search-show, #search-close').on('click',function(e){e.preventDefault();var $fadeOutBlock=jQuery('#topline-hide');var $fadeInBlock=jQuery('#topline-show');$fadeOutBlock.slideToggle();$fadeInBlock.slideToggle();});if(jQuery().selectize){var $select=jQuery('select');if($select.length>0){$select.selectize({create:true,sortField:'text'});}}setTimeout(function(){jQuery('#topline-animation-wrap').height(jQuery('#topline-hide').height());},100)
var $googleMaps=jQuery('#map, .page_map');if($googleMaps.length){$googleMaps.each(function(){var $map=jQuery(this);var lat;var lng;var map;var styles=[{"featureType":"administrative","elementType":"labels.text.fill","stylers":[{"color":"#444444"}]},{"featureType":"landscape","elementType":"all","stylers":[{"color":"#f2f2f2"}]},{"featureType":"poi","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"road","elementType":"all","stylers":[{"saturation":-100},{"lightness":45}]},{"featureType":"road.highway","elementType":"all","stylers":[{"visibility":"simplified"}]},{"featureType":"road.arterial","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"transit","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"water","elementType":"all","stylers":[{"color":"#c0e4f3"},{"visibility":"on"}]}];var address=$map.data('address')?$map.data('address'):'london, baker street, 221b';var markerDescription=$map.find('.map_marker_description').prop('outerHTML');var markerTitle=$map.find('h3').first().text()?$map.find('h3').first().text():'Map Title';var markerIconSrc=$map.find('.map_marker_icon').first().attr('src');var geocoder=new google.maps.Geocoder();geocoder.geocode({address:address},function(data){lat=data[0].geometry.location.lat();lng=data[0].geometry.location.lng();var center=new google.maps.LatLng(lat,lng);var settings={mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:16,draggable:false,scrollwheel:false,center:center,styles:styles};map=new google.maps.Map($map[0],settings);var marker=new google.maps.Marker({position:center,title:markerTitle,map:map,icon:markerIconSrc,});var infoWindows=[];var infowindow=new google.maps.InfoWindow({content:markerDescription});infoWindows.push(infowindow);google.maps.event.addListener(marker,'click',function(){for(var i=0;i<infoWindows.length;i++){infoWindows[i].close();}infowindow.open(map,marker);});if($map.data('markers')){jQuery($map.data('markers')).each(function(index){var markerObj=this;var markerDescription='';markerDescription+=markerObj.markerTitle?'<h3>'+markerObj.markerTitle+'</h3>':'';markerDescription+=markerObj.markerDescription?'<p>'+markerObj.markerDescription+'</p>':'';if(markerDescription){markerDescription='<div class="map_marker_description">'+markerDescription+'</div>';}geocoder.geocode({address:this.markerAddress},function(data){var lat=data[0].geometry.location.lat();var lng=data[0].geometry.location.lng();var center=new google.maps.LatLng(lat,lng);var marker=new google.maps.Marker({position:center,title:markerObj.markerTitle,map:map,icon:markerObj.markerIconSrc?markerObj.markerIconSrc:'',});var infowindow=new google.maps.InfoWindow({content:markerDescription});infoWindows.push(infowindow);google.maps.event.addListener(marker,'click',function(){for(var i=0;i<infoWindows.length;i++){infoWindows[i].close();}infowindow.open(map,marker);});});});}});});}jQuery(".choice").on('change',function(){if(jQuery(this).val()==="")jQuery(this).addClass("empty");else jQuery(this).removeClass("empty")});}function windowResizeInit(){setTimeout(function(){jQuery('#topline-animation-wrap').height(jQuery('#topline-hide').height());},450);}$window.on('load',function(){windowLoadInit();});$window.ready(windowReadyInit);$window.on('resize',function(){$body.scrollspy('refresh');windowResizeInit();menuHideExtraElements();headerColumnsEqualize();initMegaMenu();var $header=jQuery('.page_header').first();if($header.length&&!jQuery(document).scrollTop()&&$header.first().data('bs.affix')){$header.first().data('bs.affix').options.offset.top=$header.offset().top;}if(!$header.closest('.boxed').length){jQuery(".page_header_wrapper").css({height:$header.first().outerHeight()});}});})();